<div class="row">
	<div class="col-xs-12 st-sort-edit">
		<h3 ng-hide="editable" class="pull-left">{{datePicked | date:'longDate'}} {{filters.amOrPm}}</h3>
		<div ng-show="routeScoresDisplay.length > 0" class="btn btn-sm st-smart-edit" ng-class="{'btn-default':!editable,'btn-info':editable}" ng-click="editable = !editable">Filters</div>
		<table st-table="routeScoresDisplay" st-safe-src="routeScoresSafe" st-set-filter="customFilter" class="table table-striped table-hover" ng-class="{'margin-top-40':!editable}">
			<thead>
				<tr ng-show="editable" class="fadeInAndOut fadeRelative" >
					<td colspan="100%">
					<div class="row">
						<div class="col-xs-3 no-margin-bottom">
							<p class="input-group datepicking">
				              <input type="text" class="form-control" ng-model="datePicked" is-open="status.opened" datepicker-options="dateOptions" uib-datepicker-popup close-text="Close" />
				              <span class="input-group-btn">
				                <button type="button" class="btn btn-default btn-cal" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
				              </span>
				            </p>
			            </div>
			            <div class="col-xs-3 col-sm-2 text-center">
				            <div class="btn-group">
				            	<label class="btn btn-default" ng-model="filters.amOrPm" uib-btn-radio="'AM'" ng-click="assignAmPm()">AM</label>
	        					<label class="btn btn-default" ng-model="filters.amOrPm" uib-btn-radio="'PM'" ng-click="assignAmPm()">PM</label>
        					</div>
			            </div>
						<st-tag-operators fields="filters.fields" predicate="nationality"></st-tag-operators>
					</div>
					</td>
				<tr>
				<tr>
					<th st-sort="getters.shortName" st-sort-default="true" class="st-sort">Route</th>
					<th st-sort="runId" class="st-sort">Mode</th>
					<th st-sort="runId" class="st-sort">Run</th>
					<th st-sort="driver" class="st-sort">Driver</th>
					<th st-sort="tablet_login" class="st-sort">Tablet Login</th>
					<th st-sort="preflight_done" class="st-sort">Pre-flight Complete</th>
					<th st-sort="yard_depart" class="st-sort">Departure</th>
					<th st-sort="staging_arrive" class="st-sort">Staging</th>
					<th st-sort="first_stop_arrive" class="st-sort">First Stop</th>
					<th st-sort="score" class="st-sort st-sort-edit">Driver Score</th>
				</tr>
			</thead>
			<tbody>
				<tr class="text-center" ng-hide="routeScoresDisplay.length > 0" ng-show="loading">
					<td colspan="100%" class="text-center" style="padding:100px;font-size:60px;">
						<i class="fa fa-refresh fa-spin"></i>
					</td>
				</tr>
				<tr class="text-center" ng-hide="routeScoresDisplay.length > 0 || loading">
					<td colspan="100%" class="text-center" style="padding:100px;font-size:60px;">
						<span><i class="fa fa-exclamation"></i> No Results</span>
					</td>
				</tr>
				<tr ng-repeat="route in routeScoresDisplay">
					<td>{{route.shortName}}</td>
					<td>{{route.mode.charAt(0).toUpperCase() + route.mode.slice(1)}}</td>
					<td>{{route.runId}}</td>
					<td>{{route.driver}}</td>
					<td class="text-center" ng-class="::getBackground(route.tablet_login,route.tablet_login_actual,route.yard_depart_actual,true)">
						<span class="pointer" uib-tooltip="Scheduled: {{route.tablet_login_scheduled}} - Actual: {{route.tablet_login_actual}}" tooltip-popup-delay='350'>
							{{isInt(route.tablet_login) || route.tablet_login == 'not set' ? route.tablet_login : '-'}}
						</span>
					</td>
					<td class="text-center" ng-class="::getBackground(route.preflight_done,route.preflight_done_actual,route.yard_depart_actual)">
						<span class="pointer" uib-tooltip="Scheduled: {{route.preflight_done_scheduled}} - Actual: {{route.preflight_done_actual}}" tooltip-popup-delay='350'>
							{{isInt(route.preflight_done) || route.preflight_done == 'not set' ? route.preflight_done : '-'}}
						</span>
					</td>
					<td class="text-center" ng-class="::getBackground(route.yard_depart)">
						<span class="pointer" uib-tooltip="Scheduled: {{route.yard_depart_scheduled}} - Actual: {{route.yard_depart_actual}}" tooltip-popup-delay='350'>
							{{isInt(route.yard_depart) || route.yard_depart == 'not set' ? route.yard_depart : '-'}}
						</span>
					</td>
					<td class="text-center" ng-class="::getBackground(route.staging_arrive)">
						<span class="pointer" uib-tooltip="Scheduled: {{route.staging_arrive_scheduled}} - Actual: {{route.staging_arrive_actual}}" tooltip-popup-delay='350'>
							{{isInt(route.staging_arrive) || route.staging_arrive == 'not set' ? route.staging_arrive : '-'}}
						</span>
					</td>
					<td class="text-center" ng-class="::getBackground(route.first_stop_arrive)">
						<span class="pointer" uib-tooltip="Scheduled: {{route.first_stop_arrive_scheduled}} - Actual: {{route.first_stop_arrive_actual}}" tooltip-popup-delay='350'>
							{{isInt(route.first_stop_arrive) || route.first_stop_arrive == 'not set' ? route.first_stop_arrive : '-'}}
						</span>
					</td>
					<td class="text-center" ng-class="::getScoreBackground(route.score)">{{route.score}}</td>
				</tr>
			</tbody>
			<tfoot>
				<tr>
					<td colspan="8">
						<div st-pagination="1" st-items-by-page="filters.itemsPerPage" st-displayed-pages="100"></div>
					</td>
					<td colspan="1" class="form-inline" ng-show="routeScoresDisplay.length > 0">
						<div class="form-group">
							<label for="perPage">Per page:</label>
							<select class="form-control" id="perPage" ng-model="filters.itemsPerPage" ng-options="number for number in [5,10,25,50,100]"></select>
						</div>
					</td>
				</tr>
			</tfoot>
		</table>
	</div>
</div>